var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},__extends=function(t,e){function n(){this.constructor=t}extendStatics(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},__assign=Object.assign||function(t){for(var e,n=1,r=arguments.length;r>n;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__rest=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},__decorate=function(t,e,n,r){var o,i=arguments.length,a=3>i?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(3>i?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},__param=function(t,e){return function(n,r){e(n,r,t)}},__metadata=function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},__awaiter=function(t,e,n,r){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,i){function a(t){try{s(r.next(t))}catch(e){i(e)}}function u(t){try{s(r["throw"](t))}catch(e){i(e)}}function s(t){t.done?n(t.value):o(t.value).then(a,u)}s((r=r.apply(t,e||[])).next())})},__generator=function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=2&n[0]?i["return"]:n[0]?i["throw"]||((a=i["return"])&&a.call(i),0):i.next)&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){s.label=n[1];break}if(6===n[0]&&s.label<a[1]){s.label=a[1],a=n;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(n);break}a[2]&&s.ops.pop(),s.trys.pop();continue}n=e.call(t,s)}catch(r){n=[6,r],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,u,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u},__exportStar=function(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||__createBinding(e,t,n)},__createBinding=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]},__values=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-->0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},__spread=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read(arguments[e]));return t},__spreadArrays=function(){for(var t=0,e=0,n=arguments.length;n>e;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;n>e;e++)for(var i=arguments[e],a=0,u=i.length;u>a;a++,o++)r[o]=i[a];return r},__await=function(t){return this instanceof __await?(this.v=t,this):new __await(t)},__asyncGenerator=function(t,e,n){function r(t){l[t]&&(c[t]=function(e){return new Promise(function(n,r){f.push([t,e,n,r])>1||o(t,e)})})}function o(t,e){try{i(l[t](e))}catch(n){s(f[0][3],n)}}function i(t){t.value instanceof __await?Promise.resolve(t.value.v).then(a,u):s(f[0][2],t)}function a(t){o("next",t)}function u(t){o("throw",t)}function s(t,e){t(e),f.shift(),f.length&&o(f[0][0],f[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,l=n.apply(t,e||[]),f=[];return c={},r("next"),r("throw"),r("return"),c[Symbol.asyncIterator]=function(){return this},c},__asyncDelegator=function(t){function e(e,o){n[e]=t[e]?function(n){return(r=!r)?{value:__await(t[e](n)),done:"return"===e}:o?o(n):n}:o}var n,r;return n={},e("next"),e("throw",function(t){throw t}),e("return"),n[Symbol.iterator]=function(){return this},n},__asyncValues=function(t){function e(e){r[e]=t[e]&&function(r){return new Promise(function(o,i){r=t[e](r),n(o,i,r.done,r.value)})}}function n(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=t[Symbol.asyncIterator];return o?o.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),r={},e("next"),e("throw"),e("return"),r[Symbol.asyncIterator]=function(){return this},r)},__makeTemplateObject=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},__setModuleDefault=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t["default"]=e},__importStar=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&__createBinding(e,t,n);return __setModuleDefault(e,t),e},__importDefault=function(t){return t&&t.__esModule?t:{"default":t}},__classPrivateFieldGet=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)},__classPrivateFieldSet=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},__reflect=function(t,e,n){t.__class__=e,n?n.push(e):n=[e],t.__types__=t.__types__?n.concat(t.__types__):n};!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(e){return t[e]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){n(1),n(2),n(0),n(3),n(4),n(5),n(6),n(7),n(8),n(9),n(10),n(11);var r;!function(t){t[t.NULL=0]="NULL",t[t.LEVEL=1]="LEVEL",t[t.GAME=2]="GAME",t[t.WAITING=3]="WAITING",t[t.COVER=4]="COVER"}(r||(r={})),window.MainState=r;var o=function(t){function e(){var n=t.call(this)||this;n.state=r.NULL,n.lastState=r.NULL,n.deltaTime=.0333333333,n.lastTime=0,n.sortableChildren=!0,n.sortableChildren=!0,platform.onAudioInterruptionBegin(onAudioInterruptionBegin),platform.onAudioInterruptionEnd(onAudioInterruptionEnd);var o=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",o),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter);var i=egret.MainContext.instance.stage;return n.sortableChildren=!0,n.width=i.stageWidth,n.height=n.width,n.y=i.stageHeight/2-n.height/2,console.log("视图宽高："+n.width+" "+n.height),MyStorage.Inst,e._inst=n,n.SwitchState(r.NULL),n.once(egret.Event.ADDED_TO_STAGE,n.Start,n),n}return __extends(e,t),Object.defineProperty(e,"Inst",{get:function(){return e._inst},enumerable:!1,configurable:!0}),e.prototype.Start=function(t){return __awaiter(this,void 0,void 0,function(){var t,e=this;return __generator(this,function(n){switch(n.label){case 0:return t=this,egret.lifecycle.addLifecycleListener(function(t){}),egret.lifecycle.onPause=function(){console.log("egret.lifecycle.onPause"),egret.ticker.pause(),onAudioInterruptionBegin()},egret.lifecycle.onResume=function(){console.log("egret.lifecycle.onResume"),egret.ticker.resume(),onAudioInterruptionEnd()},[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return n.sent(),[4,new Promise(function(t,n){var r=new eui.Theme("resource/default.thm.json",e.stage);r.once(eui.UIEvent.COMPLETE,function(){t(0)},e)})];case 2:return n.sent(),[4,Util.LoadGroupRes(["common"])];case 3:return n.sent(),this.addChild(Scene.Common.Inst),Scene.Common.Inst.Start(),this.SwitchState(r.GAME),platform.gameReady(),this.lastTime=(new Date).getTime(),this.addEventListener(egret.Event.ENTER_FRAME,this.Update,this),[2]}})})},e.prototype.SwitchState=function(t,e){return __awaiter(this,void 0,void 0,function(){var e,n;return __generator(this,function(o){switch(o.label){case 0:switch(e=this,null!=e.scene&&(e.removeChild(e.scene),e.scene.Stop(),e.scene=null),n=null,t){case r.GAME:n=new Scene.Game.Main;break;case r.COVER:platform.showInterstitialAd(),n=new Scene.Cover.Main;break;case r.LEVEL:}return e.state!=r.WAITING&&(e.lastState=e.state),e.state=r.WAITING,null==n?[3,2]:(n.width=e.width,n.height=e.height,e.addChild(n),n.zIndex=10,n.x=e.width/2-n.width/2,n.y=e.height/2-n.height/2,[4,n.Start()]);case 1:o.sent(),e.scene=n,e.state=t,o.label=2;case 2:return[2]}})})},e.prototype.Update=function(){var t=(new Date).getTime(),e=(t-this.lastTime)/1e3;e>.036&&(e=.036),this.lastTime=t,Scene.Common.Inst.Update(e),null!=this.scene&&this.scene.Update(e),platform.Update(e)},e._inst=null,e}(egret.DisplayObjectContainer);window.Main=o,__reflect(o.prototype,"Main",[]);var i=o;window.GMain=i},function(t,e){var n=function(){function t(){}return t.prototype.getAsset=function(t,e,n){function r(r){e.call(n,r,t)}if(RES.hasRes(t)){var o=RES.getRes(t);o?r(o):RES.getResAsync(t,r,this)}else RES.getResByUrl(t,r,this,RES.ResourceItem.TYPE_IMAGE)},t}();window.AssetAdapter=n,__reflect(n.prototype,"AssetAdapter",["eui.IAssetAdapter"])},function(t,e){var n=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},e.prototype.onProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);window.LoadingUI=n,__reflect(n.prototype,"LoadingUI",["RES.PromiseTaskReporter"])},function(t,e){var n=function(){function t(){this.gold=0,this.curBow=0,this.curArrow=0,this.gameMode=0,this.bgmOn=1,this.soundOn=1,this.Init(),this.InitSetting()}return Object.defineProperty(t,"Inst",{get:function(){if(null==t._inst){var e=new t;t._inst=e}return t._inst},enumerable:!1,configurable:!0}),t.prototype.Init=function(){var t,e=localStorage.getItem("archer_storage"),n=null;null!=e&&""!=e&&(n=JSON.parse(e)),null==n&&(n={gold:0,curBow:0,curArrow:0,bows:[0],arrows:[0],curLv:0}),this.gold=n.gold,this.curBow=n.curBow,this.curArrow=n.curArrow,this.bows=n.bows,this.arrows=n.arrows,this.playLv=this.curLv=null!==(t=n.curLv)&&void 0!==t?t:0},t.prototype.InitSetting=function(){var t=localStorage.getItem("archer_setting"),e=null;null!=t&&""!=t&&(e=JSON.parse(t)),null==e&&(e={sound:this.soundOn,bgm:this.bgmOn}),this.soundOn=e.sound,null==this.soundOn&&(this.soundOn=1),this.bgmOn=e.bgm,null==this.bgmOn&&(this.bgmOn=1)},t.prototype.SaveSetting=function(){var t={sound:this.soundOn,bgm:this.bgmOn};localStorage.setItem("archer_setting",JSON.stringify(t))},t.prototype.Save=function(){var t={gold:this.gold,curBow:this.curBow,curArrow:this.curArrow,bows:this.bows,arrows:this.arrows,curLv:this.curLv};null!=t&&localStorage.setItem("archer_storage",JSON.stringify(t))},t.maxPower=10,t.maxLv=11,t}();window.MyStorage=n,__reflect(n.prototype,"MyStorage",[])},function(t,e){var n=function(){function t(){}return t.prototype.Update=function(t){},t.prototype.naviTo=function(t){},t.prototype.showCustomAd=function(){},t.prototype.hideCustomAd=function(){},t.prototype.showAskModel=function(t,e,n,r){setTimeout(n,200)},t.prototype.showTopAd=function(){},t.prototype.showRewardedVideoAd=function(t,e){t(!0)},t.prototype.showBanner=function(){},t.prototype.hideBanner=function(){},t.prototype.onAudioInterruptionBegin=function(t){},t.prototype.onAudioInterruptionEnd=function(t){},t.prototype.showToast=function(t){},t.prototype.moreGame=function(){},t.prototype.subPackage=function(t){return 0},t.prototype.showInterstitialAd=function(){},t.prototype.gameReady=function(){},t.prototype.RECStart=function(){},t.prototype.RECStop=function(){},t}();window.DebugPlatform=n,__reflect(n.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new n)},function(t,e){function n(){0!=i.Inst.soundReady&&(console.log("onAudioInterruptionBegin: "+i.Inst.NoChannel),0==i.Inst.NoChannel&&(console.log("audio stop"),i.Inst.NoChannel=!0,i.Inst.Stop()))}function r(){0!=i.Inst.soundReady&&(console.log("onAudioInterruptionEnd: "+i.Inst.NoChannel),1==i.Inst.NoChannel&&(console.log("audio resume."),i.Inst.NoChannel=!1,i.Inst.Resume()))}var o={Click:["click_mp3",200,0]};window.SoundEffect=o;var i=function(){function t(){this.NoChannel=!1,this.soundReady=!1}return Object.defineProperty(t,"Inst",{get:function(){if(null==t._inst){var e=new t;t._inst=e}return t._inst},enumerable:!1,configurable:!0}),t.prototype.PlaySound=function(t){if(0!=this.Sound&&0!=this.soundReady){if(t[1]>0){var e=(new Date).getTime();if(e-t[2]<t[1])return;t[2]=e}if(1!=this.NoChannel){var n=t[0];console.log("play: "+n);var r=RES.getRes(n);return null==r?void console.warn("音效:"+n+"未加载."):void r.play(0,1)}}},t.prototype.PlayBGM=function(t){void 0===t&&(t="bgm_mp3"),null==this._bgm&&(this._bgm=RES.getRes(t),this._bgm.type=egret.Sound.MUSIC,this._lastBGMPos=0),1!=this.NoChannel&&(this._bgmChannel=this._bgm.play(0),this._bgmChannel.volume=1==this.BGM?1:0)},Object.defineProperty(t.prototype,"Sound",{get:function(){return 1==MyStorage.Inst.soundOn},set:function(t){MyStorage.Inst.soundOn=1==t?1:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"BGM",{get:function(){return 1==MyStorage.Inst.bgmOn},set:function(t){MyStorage.Inst.bgmOn=1==t?1:0,MyStorage.Inst.SaveSetting(),0!=this.soundReady&&(this._bgmChannel.volume=1==t?1:0)},enumerable:!1,configurable:!0}),t.prototype.Stop=function(){null!=this._bgmChannel&&(this._bgmChannel.removeEventListener(egret.Event.SOUND_COMPLETE,this.onBGMComplete,this),this._lastBGMPos=this._bgmChannel.position,this._bgmChannel.stop(),this._bgmChannel=null)},t.prototype.Resume=function(){null!=this._bgmChannel&&(this._lastBGMPos=this._bgmChannel.position,this._bgmChannel.stop(),this._bgmChannel=null),null==this._lastBGMPos&&(this._lastBGMPos=0),0!=this._lastBGMPos&&this._lastBGMPos<this._bgm.length?(this._bgmChannel=this._bgm.play(this._lastBGMPos,1),this._bgmChannel.once(egret.Event.SOUND_COMPLETE,this.onBGMComplete,this)):this._bgmChannel=this._bgm.play(0),this._bgmChannel.volume=1==this.BGM?1:0},t.prototype.onBGMComplete=function(){this._bgmChannel.stop(),this._bgmChannel=this._bgm.play(0),this._bgmChannel.volume=1==this.BGM?1:0},t.prototype.Start=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t}();window.SoundMain=i,__reflect(i.prototype,"SoundMain",[]),window.onAudioInterruptionBegin=n,window.onAudioInterruptionEnd=r},function(t,e){var n=function(){function t(){}return t.prototype.getTheme=function(t,e,n,r){function o(t){e.call(r,t)}function i(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,i,null),n.call(r))}var a=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){e.call(r,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(t,n){window.JSONParseClass.setData(t),egret.callLater(function(){e.call(r,generateEUI2)},a)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(t.indexOf(".exml")>-1){var u=t.split("/");u.pop();var s=u.join("/")+"_EUI.json";generateJSON.paths[t]?egret.callLater(function(){e.call(r,generateJSON.paths[t])},this):RES.getResByUrl(s,function(n){window.JSONParseClass.setData(n),egret.callLater(function(){e.call(r,generateJSON.paths[t])},a)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){e.call(r,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,i,null),RES.getResByUrl(t,o,this,RES.ResourceItem.TYPE_TEXT)},t}();window.ThemeAdapter=n,__reflect(n.prototype,"ThemeAdapter",["eui.IThemeAdapter"])},function(t,e){var n=function(){function t(){}return t.LoadGroupRes=function(t){return __awaiter(this,void 0,void 0,function(){var e,n,r;return __generator(this,function(o){switch(o.label){case 0:for(e=[],n=0;n<t.length;n++)r=t[n],0==RES.isGroupLoaded(r)&&e.push(RES.loadGroup(r));return[4,Promise.all(e)];case 1:return o.sent(),[2]}})})},t.zeroPad=function(t,e){return("000000"+t).slice(-e)},t.RotateVec=function(e,n){var r=t.Normalize(e);if(0>=r)return e;var o=Math.atan2(e.y,e.x);o+=n,e.x=Math.cos(o)*r,e.y=Math.sin(o)*r},t.Normalize=function(t){var e=Math.sqrt(t.x*t.x+t.y*t.y);return e>0&&(t.x/=e,t.y/=e),e},t.LoadRes=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return __awaiter(this,void 0,void 0,function(){var e,n,r;return __generator(this,function(o){switch(o.label){case 0:for(e=[],n=function(n){e.push(new Promise(function(e,r){RES.getResByUrl(t[n],e,null,RES.ResourceItem.TYPE_JSON)}))},r=0;r<t.length;r++)n(r);return[4,Promise.all(e)];case 1:return o.sent(),[2]}})})},t.DestroyGroupRes=function(t){return __awaiter(this,void 0,void 0,function(){var e,n,r;return __generator(this,function(o){switch(o.label){case 0:for(e=[],n=0;n<t.length;n++)r=t[n],1==RES.isGroupLoaded(r)&&e.push(RES.destroyRes(r,!0));return[4,Promise.all(e)];case 1:return o.sent(),[2]}})})},t.Clamp=function(t,e,n){return e>t?t=e:t>n&&(t=n),t},t.Dist=function(t,e){return void 0===e&&(e=null),null==e&&(e=t),Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},t.Dist2=function(t,e){return void 0===e&&(e=null),null==e&&(e=t),(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)},t.VecLength=function(t,e){return Math.sqrt(t*t+e*e)},t.AskFor=function(t,e){null!=e&&e()},t.RandomRange=function(t,e){return t>=e?t:Math.round(Math.random()*(e-t))+t},t.RegistBtnAnim=function(e){e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.onBtnDown,null),e.addEventListener(egret.TouchEvent.TOUCH_CANCEL,t.onBtnUp,null),e.addEventListener(egret.TouchEvent.TOUCH_END,t.onBtnUp,null),e.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,t.onBtnUp,null)},t.UnregistBtnAnim=function(e){e.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,t.onBtnDown,null),e.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,t.onBtnUp,null),e.removeEventListener(egret.TouchEvent.TOUCH_END,t.onBtnUp,null),e.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,t.onBtnUp,null)},t.onBtnDown=function(t){egret.Tween.removeTweens(t.target),egret.Tween.get(t.target).to({scaleX:1.1,scaleY:1.1},100)},t.onBtnUp=function(t){egret.Tween.removeTweens(t.target),egret.Tween.get(t.target).to({scaleX:1,scaleY:1},100)},t.DistPtToSegment=function(e,n){var r=t.Dist2(n[0],n[1]);if(0>=r)return t.Dist(e,n[0]);var o=((e.x-n[0].x)*(n[1].x-n[0].x)+(e.y-n[0].y)*(n[1].y-n[0].y))/r;return o=t.Clamp(o,0,1),t.Dist(e,{x:n[0].x+o*(n[1].x-n[0].x),y:n[0].y+o*(n[1].y-n[0].y)})},t.linesIntersect=function(t,e){var n=(t[1].x-t[0].x)*(e[1].y-e[0].y)-(e[1].x-e[0].x)*(t[1].y-t[0].y);if(0==n)return!1;var r=((e[1].y-e[0].y)*(e[1].x-t[0].x)+(e[0].x-e[1].x)*(e[1].y-t[0].y))/n,o=((t[0].y-t[1].y)*(e[1].x-t[0].x)+(t[1].x-t[0].x)*(e[1].y-t[0].y))/n;return o>0&&1>o&&r>0&&1>r},t.rectLineIntersect=function(e,n){return 1==t.linesIntersect(n,[{x:e.x,y:e.y},{x:e.x,y:e.y+e.height}])||1==t.linesIntersect(n,[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y}])||1==t.linesIntersect(n,[{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height}])||1==t.linesIntersect(n,[{x:e.x,y:e.y+e.height},{x:e.x+e.width,y:e.y+e.height}])},t}();window.Util=n,__reflect(n.prototype,"Util",[])},function(t,e){var n=window.Scene;window.Scene=n},function(t,e){var n,n=window.Scene;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),Object.defineProperty(e,"Inst",{get:function(){if(null==e._inst){var t=new e;e._inst=t}return e._inst},enumerable:!1,configurable:!0}),e.prototype.Start=function(){this.zIndex=999},e.prototype.Update=function(t){},e}(eui.Component);t.Common=e,__reflect(e.prototype,"Scene.Common",["eui.UIComponent"])}(n||(n={})),window.Scene=n},function(t,e){var n,n=window.Scene;!function(t){var e,e=window.Cover;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.Start=function(){},e.prototype.Update=function(t){},e.prototype.Stop=function(){},e}(eui.Component);t.Main=e,__reflect(e.prototype,"Scene.Cover.Main",["eui.UIComponent","Base"])}(e=t.Cover||(t.Cover={})),window.Cover=e}(n||(n={})),window.Scene=n},function(t,e){var n,n=window.Scene;!function(t){var e,e=window.Game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.Start=function(){},e.prototype.Update=function(t){},e.prototype.Stop=function(){},e}(eui.Component);t.Main=e,__reflect(e.prototype,"Scene.Game.Main",["eui.UIComponent","Base"])}(e=t.Game||(t.Game={})),window.Game=e}(n||(n={})),window.Scene=n}]);